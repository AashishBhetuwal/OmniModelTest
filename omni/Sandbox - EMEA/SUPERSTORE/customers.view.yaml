# Reference this view as superstore__customers
schema: SUPERSTORE
table_name: CUSTOMERS

dimensions:
  id:
    sql: '"ID"'
    format: ID
    primary_key: true

  customer:
    sql: '"CUSTOMER"'

  city:
    sql: '"CITY"'

  markettedts:
    sql: '"MARKET"'
    links:
      - url: |
          {% if filters.market.value != '' %}
            https://interworks.omniapp.co/dashboards/e28d729b?f--superstore__customers.market=%7B%22values%22%3A%5B%22{{ filters.market.value }}%22%5D%7D
          {% else %}
            https://interworks.omniapp.co/dashboards/e28d729b?f--superstore__customers.market=%7B%22type%22%3A%22user_attribute%22%2C%22user_attribute_name%22%3A%22market%22%7D
          {% endif %}
        label: Drill to Market

  market:
    sql: '"MARKET"'
    links:
      - url: |
          {% if ${superstore__customers.market} != '' %}
            https://interworks.omniapp.co/dashboards/e28d729b?f--superstore__customers.market=%7B%22values%22%3A%5B%22${superstore__customers.market}%22%5D%2C%22appliedLabels%22%3A%7B%7D%7D
          {% else %}
            https://interworks.omniapp.co/dashboards/e28d729b?f--superstore__customers.market=%7B%22type%22%3A%22user_attribute%22%2C%22user_attribute_name%22%3A%22market%22%7D
          {% endif %}
        label: Drill to Market

  country:
    sql: '"COUNTRY"'
    links:
      - url: https://www.google.com/search?q=${superstore__customers.country}
        label: Google

  region:
    sql: '"REGION"'

  segment:
    sql: '"SEGMENT"'

  state:
    sql: '"STATE"'

measures:
  count:
    aggregate_type: count
